@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   DESIGN TOKENS — RESTOGESTIÓN ERP
   Source: Stitch "ERP Main Application Shell" (ID: 6988364841382496145)
   ========================================================= */
:root {
  /* Primary / Accent */
  --primary: #136dec;
  --primary-dark: #0d5cc7;
  --primary-light: #4d95f3;
  --primary-rgb: 19, 109, 236;

  /* Neutrals */
  --brand-black: #0f172a;
  --bg-main: #f8fafc;
  --bg-card: #ffffff;
  --bg-sidebar: #0f172a;

  /* Semantic — Financial */
  --success: #16a34a;
  --warning: #ca8a04;
  --error: #dc2626;
  --info: #2563eb;

  /* Geometry */
  --radius: 8px;
  --radius-sm: 6px;
  --radius-lg: 12px;

  /* Typography */
  --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;
}

/* =========================================================
   BASE
   ========================================================= */
@layer base {
  body {
    @apply bg-bg-main text-slate-800 font-sans antialiased text-sm;
    font-feature-settings: "cv11", "ss01";
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading font-semibold text-slate-900 tracking-tight;
  }

  h1 {
    @apply text-2xl;
  }

  h2 {
    @apply text-xl;
  }

  h3 {
    @apply text-base;
  }
}

/* =========================================================
   COMPONENTS — All follow Stitch ERP design tokens
   ========================================================= */
@layer components {

  /* ----- BUTTONS ----- */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 rounded-brand text-sm font-medium transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-1 disabled:opacity-50 disabled:cursor-not-allowed select-none;
  }

  .btn-primary {
    @apply bg-primary text-white hover:bg-primary-dark active:scale-[0.98] focus:ring-primary/40;
  }

  .btn-secondary {
    @apply bg-slate-800 text-white hover:bg-slate-900 active:scale-[0.98] focus:ring-slate-500/40;
  }

  .btn-outline {
    @apply border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 hover:border-slate-300 focus:ring-slate-300/40;
  }

  .btn-ghost {
    @apply text-slate-600 hover:bg-slate-100 hover:text-slate-900 focus:ring-slate-300/40;
  }

  .btn-danger {
    @apply bg-[#dc2626] text-white hover:bg-red-700 active:scale-[0.98] focus:ring-red-500/40;
  }

  .btn-success {
    @apply bg-[#16a34a] text-white hover:bg-green-700 active:scale-[0.98] focus:ring-green-500/40;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-5 py-2.5 text-base;
  }

  .btn-icon {
    @apply p-2 rounded-brand;
  }

  /* ----- CARDS ----- */
  .card {
    @apply bg-bg-card rounded-brand border border-slate-200 shadow-card overflow-hidden;
  }

  .card-hover {
    @apply transition-shadow duration-200 hover:shadow-brand-lg hover:border-primary/20;
  }

  .card-header {
    @apply px-5 py-4 border-b border-slate-100 flex items-center justify-between;
  }

  .card-body {
    @apply p-5;
  }

  /* ----- MODALES ----- 
     Tailwind Play CDN limitation: @apply does not work in external CSS.
     Use inline Tailwind utility classes in JSX instead of these classes.
  */
  /*
  .modal-overlay {
    @apply fixed inset-0 z-50 bg-slate-900/50 backdrop-blur-[2px] flex items-center justify-center p-4;
  }

  .modal-content {
    @apply bg-bg-card rounded-lg shadow-modal w-full max-w-lg animate-fade-in;
  }
  */

  .modal-header {
    @apply px-6 py-4 border-b border-slate-100 flex items-center justify-between;
  }

  .modal-body {
    @apply px-6 py-5;
  }

  .modal-footer {
    @apply px-6 py-4 border-t border-slate-100 flex items-center justify-end gap-3 bg-slate-50/60;
  }

  /* ----- ALERTS ----- */
  .alert {
    @apply flex items-start gap-3 p-4 rounded-brand border-l-4 text-sm;
  }

  .alert-success {
    @apply bg-green-50 text-green-800 border-[#16a34a];
  }

  .alert-warning {
    @apply bg-yellow-50 text-yellow-800 border-[#ca8a04];
  }

  .alert-error {
    @apply bg-red-50 text-red-800 border-[#dc2626];
  }

  .alert-info {
    @apply bg-blue-50 text-blue-800 border-[#2563eb];
  }

  /* ----- FORMS ----- */
  .input {
    @apply w-full px-3 py-2 text-sm rounded-brand border border-slate-200 bg-white text-slate-900 placeholder-slate-400 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/15 disabled:bg-slate-50 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors duration-150;
  }

  .input-sm {
    @apply px-2.5 py-1.5 text-xs;
  }

  .label {
    @apply block text-xs font-semibold text-slate-600 mb-1.5 uppercase tracking-wide;
  }

  .form-group {
    @apply flex flex-col gap-1.5;
  }

  /* ----- TABLES ----- */
  .table-wrapper {
    @apply overflow-x-auto rounded-brand border border-slate-200;
  }

  .table {
    @apply w-full text-sm;
  }

  .table thead th {
    @apply px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider bg-slate-50 border-b border-slate-200;
  }

  .table tbody td {
    @apply px-4 py-3 text-slate-700 border-b border-slate-100 align-middle;
  }

  .table tbody tr:last-child td {
    @apply border-b-0;
  }

  .table tbody tr {
    @apply hover:bg-slate-50 transition-colors duration-100;
  }

  /* ----- BADGES / STATUS ----- */
  .badge {
    @apply inline-flex items-center gap-1 px-2 py-0.5 text-xs font-semibold rounded-full;
  }

  .badge-success {
    @apply bg-green-100 text-green-700;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-700;
  }

  .badge-error {
    @apply bg-red-100 text-red-700;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-700;
  }

  .badge-neutral {
    @apply bg-slate-100 text-slate-600;
  }

  .badge-primary {
    @apply bg-blue-100 text-[#136dec];
  }

  .badge-purple {
    @apply bg-violet-100 text-violet-700;
  }

  /* ----- KPI CARDS (Financial) ----- */
  .kpi-card {
    @apply bg-white rounded-brand border border-slate-200 shadow-card p-5;
  }

  .kpi-label {
    @apply text-xs font-medium text-slate-500 uppercase tracking-wider mb-2;
  }

  .kpi-value {
    @apply text-2xl font-bold text-slate-900;
  }

  .kpi-trend-up {
    @apply inline-flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded-full bg-green-100 text-green-700;
  }

  .kpi-trend-down {
    @apply inline-flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded-full bg-red-100 text-red-700;
  }

  /* ----- PAGE HEADER ----- */
  .page-header {
    @apply flex items-center justify-between mb-6 flex-wrap gap-4;
  }

  .page-title {
    @apply text-xl font-semibold text-slate-900;
  }

  .page-subtitle {
    @apply text-sm text-slate-500 mt-0.5;
  }

  /* ----- SECTION ----- */
  .section {
    @apply space-y-4;
  }

  /* ----- SKELETON LOADER ----- */
  .skeleton {
    @apply animate-pulse bg-slate-200 rounded;
  }

  /* ----- EMPTY STATE ----- */
  .empty-state {
    @apply flex flex-col items-center justify-center py-16 text-center gap-3;
  }

  .empty-state-icon {
    @apply w-12 h-12 text-slate-300;
  }

  .empty-state-title {
    @apply text-sm font-semibold text-slate-500;
  }

  .empty-state-subtitle {
    @apply text-xs text-slate-400;
  }
}

/* =========================================================
   ANIMATIONS
   ========================================================= */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes pulse-soft {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.6;
  }
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-out forwards;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out forwards;
}

/* =========================================================
   SCROLLBAR — ERP clean style
   ========================================================= */
::-webkit-scrollbar {
  width: 5px;
  height: 5px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* =========================================================
   MISC UTILITIES
   ========================================================= */
.divider {
  @apply border-t border-slate-100 my-4;
}

.text-profit {
  color: #16a34a;
}

.text-loss {
  color: #dc2626;
}

.text-pending {
  color: #ca8a04;
}

.text-primary {
  color: #136dec;
}